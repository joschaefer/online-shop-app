<div class="page-header">
	<button type="button" class="btn btn-sm btn-success pull-right"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Neue Kategorie hinzufügen</button>
	<h1>Kategorien verwalten</h1>
	<p class="text-muted">Hier können Sie Kategorien hinzufügen, bearbeiten und löschen.</p>
</div>

<table class="table table-align-middle" ng-if="a.categories">
	<thead>
		<tr>
			<th width="1em"></th>
			<th>Bezeichnung</th>
			<th>Produkte</th>
			<th width="30%">Aktionen</th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="category in a.categories" ng-click="c.select(category);" ng-class="{ 'active': category.selected }">
			<td><input type="checkbox" ng-model="category.selected" ng-click="$event.stopPropagation();" ng-hide="c.editing[ category.id ]"></td>
			<td ng-hide="c.editing[ category.id ]">{{ category.title }}</td>
			<td ng-show="c.editing[ category.id ]"><input type="text" class="form-control" ng-model="category.title" placeholder="Bezeichnung eingeben"></td>
			<td><span class="badge">{{ category.products.length }}</span></td>
			<td ng-hide="c.editing[ category.id ]">
				<button type="button" class="btn btn-xs btn-info" ng-click="c.edit(category); $event.stopPropagation();"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Bearbeiten</button>
				<button type="button" class="btn btn-xs btn-danger" ng-click="c.delete(category); $event.stopPropagation();"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Löschen</button>
			</td>
			<td ng-show="c.editing[ category.id ]">
				<button type="button" class="btn btn-sm btn-success" ng-click="c.save(category); $event.stopPropagation();"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></button>
				<button type="button" class="btn btn-sm btn-default" ng-click="c.cancel(category); $event.stopPropagation();"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
			</td>
		</tr>
	</tbody>
	<tfoot>
		<tr>
			<td><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></td>
			<td colspan="3">
				<button type="button" class="btn btn-sm btn-danger" ng-click="c.deleteSelected();"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Löschen</button>
			</td>
		</tr>
	</tfoot>
</table>

<div class="alert alert-danger" ng-if="a.categories.length == 0">
	Zur Zeit gibt es keine Kategorien. <a href class="alert-link">Neue Kategorie anlegen</a>.
</div>
